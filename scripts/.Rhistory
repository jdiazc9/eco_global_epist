color = 'black') +
scale_x_discrete(name = expression(Species~italic(j))) +
ggtitle(expression(Species~italic(i)~':')) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 45,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
title = element_text(size = 16))
ggplot(df, aes(x = species_j, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_discrete(name = expression(Species~italic(j))) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~cereus))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 45,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
title = element_text(size = 16))
ggplot(df, aes(x = species_j, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_discrete(name = expression(Species~italic(j))) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~cereus))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 45,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
plot.title = element_text(size = 16))
ggplot(df, aes(x = species_j, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_discrete(name = expression(Species~italic(j))) +
scale_fill_manual(values = c("#d6d52b", "#473c85")) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~cereus))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 45,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
plot.title = element_text(size = 16))
ggplot(df, aes(x = species_j, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_discrete(name = expression(Species~italic(j))) +
scale_fill_manual(values = c("#d6d52b", "#473c85"),
names = c(expression(eps),
expresion(phi))) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~cereus))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 45,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
plot.title = element_text(size = 16))
ggplot(df, aes(x = species_j, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_discrete(name = expression(Species~italic(j))) +
scale_fill_manual(values = c("#d6d52b", "#473c85"),
names = c(expression(eps),
expression(phi))) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~cereus))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 45,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
plot.title = element_text(size = 16))
ggplot(df, aes(x = species_j, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_discrete(name = expression(Species~italic(j))) +
scale_fill_manual(values = c("#d6d52b", "#473c85"),
labels = c(expression(eps),
expression(phi))) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~cereus))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 45,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
plot.title = element_text(size = 16))
ggplot(df, aes(x = species_j, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_discrete(name = expression(Species~italic(j))) +
scale_fill_manual(values = c("#d6d52b", "#473c85"),
labels = c(expression(eps),
expression(italic(phi)))) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~cereus))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 45,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
plot.title = element_text(size = 16))
ggplot(df, aes(x = species_j, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_discrete(name = expression(Species~italic(j))) +
scale_fill_manual(values = c("#d6d52b", "#473c85"),
labels = c(expression(eps),
expression(italic(phi)[italic(ij)]))) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~cereus))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 45,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
plot.title = element_text(size = 16))
ggplot(df, aes(x = species_j, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_discrete(name = expression(Species~italic(j))) +
scale_fill_manual(values = c("#d6d52b", "#473c85"),
labels = c(expression(italic(epsilon)[italic(ij)]),
expression(italic(phi)[italic(ij)]))) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~cereus))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 45,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
plot.title = element_text(size = 16))
ggplot(df, aes(x = species_j, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_discrete(name = expression(Species~italic(j))) +
scale_fill_manual(values = c("#d6d52b", "#473c85"),
labels = c(expression(~italic(epsilon)[italic(ij)]),
expression(~italic(phi)[italic(ij)]))) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~cereus))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 45,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
plot.title = element_text(size = 16))
ggplot(df, aes(x = species_j, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_discrete(name = expression(Species~italic(j))) +
scale_fill_manual(values = c("#d6d52b", "#473c85"),
labels = c(expression(~~italic(epsilon)[italic(ij)]),
expression(~~italic(phi)[italic(ij)]))) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~cereus))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 45,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
plot.title = element_text(size = 16))
ggplot(df, aes(x = species_j, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_discrete(name = expression(Species~italic(j))) +
scale_fill_manual(values = c("#d6d52b", "#473c85"),
labels = c(expression(~~italic(epsilon)[italic(ij)]),
expression(~~italic(phi)[italic(ij)]))) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~cereus))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 20,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
plot.title = element_text(size = 16))
ggplot(df, aes(x = species_j, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_discrete(name = expression(Species~italic(j))) +
scale_fill_manual(values = c("#d6d52b", "#473c85"),
labels = c(expression(~~tilde(italic(epsilon))[italic(ij)]),
expression(~~italic(phi)[italic(ij)]))) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~cereus))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 20,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
plot.title = element_text(size = 16))
ggsave(filename = '../plots/compare_phi_eps_Bcereus.pdf',
device = 'pdf',
dpi = 600,
width = 150,
height = 80,
units = 'mm',
limitsize = F)
ggplot(df, aes(x = species_j, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_discrete(name = expression(Species~italic(j))) +
scale_fill_manual(values = c("#d6d52b", "#473c85"),
labels = c(expression(~~tilde(italic(epsilon))[italic(ij)]),
expression(~~italic(phi)[italic(ij)]))) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~subtilis))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 20,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
plot.title = element_text(size = 16))
ggsave(filename = '../plots/compare_phi_eps_Bsubtilis.pdf',
device = 'pdf',
dpi = 600,
width = 150,
height = 80,
units = 'mm',
limitsize = F)
View(df)
df_sum <- aggregate(value ~ dataset + species_i + param,
data = df,
FUN = sum)
View(df_sum)
df_sum$species_j <- 'Sum of all'
df_sum <- df_sum[, c('dataset', 'species_i', 'species_j', 'param', 'value')]
df <- rbind(df, df_sum)
df$species_j <- factor(df$species_j,
lavels = c(unique(df$species_j[df$species_j != 'Sum']), 'Sum'))
df$species_j <- factor(df$species_j,
levels = c(unique(df$species_j[df$species_j != 'Sum']), 'Sum'))
ggplot(df, aes(x = species_j, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_discrete(name = expression(Species~italic(j))) +
scale_fill_manual(values = c("#d6d52b", "#473c85"),
labels = c(expression(~~tilde(italic(epsilon))[italic(ij)]),
expression(~~italic(phi)[italic(ij)]))) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~subtilis))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 20,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
plot.title = element_text(size = 16))
df$species_j <- factor(df$species_j,
levels = c(unique(df$species_j[df$species_j != 'Sum of all']), 'Sum of all'))
ggplot(df, aes(x = species_j, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_discrete(name = expression(Species~italic(j))) +
scale_fill_manual(values = c("#d6d52b", "#473c85"),
labels = c(expression(~~tilde(italic(epsilon))[italic(ij)]),
expression(~~italic(phi)[italic(ij)]))) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~subtilis))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 20,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
plot.title = element_text(size = 16))
# plot example: effective interactions for B. subtilis (phi vs. eps)
df <- plot_this[plot_this$dataset == 'Bacterial starch hydrolysis' & plot_this$species_i == 'B. subtilis', ]
df <- gather(df, param, value, phi:eff_inter, factor_key = TRUE)
df$param <- factor(df$param, levels = c('eff_inter', 'phi'))
df_sum <- aggregate(value ~ dataset + species_i + param,
data = df,
FUN = sum)
df_sum$species_j <- 'Sum of all'
df_sum <- df_sum[, c('dataset', 'species_i', 'species_j', 'param', 'value')]
df <- rbind(df, df_sum)
c(unique(df$species_j[df$species_j != 'Sum of all']), 'Sum of all')
df$species_j <- factor(df$species_j,
levels = c(unique(df$species_j[df$species_j != 'Sum of all']), 'Sum of all'))
ggplot(df, aes(x = species_j, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_discrete(name = expression(Species~italic(j))) +
scale_fill_manual(values = c("#d6d52b", "#473c85"),
labels = c(expression(~~tilde(italic(epsilon))[italic(ij)]),
expression(~~italic(phi)[italic(ij)]))) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~subtilis))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 20,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
plot.title = element_text(size = 16))
df$xpos <- 1:length(unique(df$species_j))
df$xpos <- setNames(1:length(unique(df$species_j)),
levels(df$species_j))[df$species_j]
df$xpos[df$xpos == max(df$xpos)] <- max(df$xpos) + 1
ggplot(df, aes(x = xpos, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_continuous(name = expression(Species~italic(j))) +
scale_fill_manual(values = c("#d6d52b", "#473c85"),
labels = c(expression(~~tilde(italic(epsilon))[italic(ij)]),
expression(~~italic(phi)[italic(ij)]))) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~subtilis))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 20,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
plot.title = element_text(size = 16))
source("~/GitHub/eco_global_epist/scripts/compare_phi_eps.R", echo=TRUE)
source("~/GitHub/eco_global_epist/scripts/compare_phi_eps.R", echo=TRUE)
ggplot(df, aes(x = xpos, y = value, fill = param)) +
geom_bar(stat = 'identity',
position = position_dodge(),
width = 0.6) +
geom_hline(yintercept = 0,
color = 'black') +
scale_x_continuous(name = expression(Species~italic(j)),
breaks = unique(df$xpos)) +
scale_fill_manual(values = c("#d6d52b", "#473c85"),
labels = c(expression(~~tilde(italic(epsilon))[italic(ij)]),
expression(~~italic(phi)[italic(ij)]))) +
ggtitle(expression(Species~italic(i)~':'~italic(B.~subtilis))) +
theme_bw() +
theme(panel.grid = element_blank(),
aspect.ratio = 0.3,
axis.text = element_text(size = 16),
axis.text.x = element_text(size = 14,
angle = 20,
hjust = 1,
face = 'italic'),
axis.title = element_text(size = 16),
axis.title.y = element_blank(),
legend.title = element_blank(),
legend.text = element_text(size = 16),
plot.title = element_text(size = 16))

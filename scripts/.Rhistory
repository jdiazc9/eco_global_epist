strip.text = element_text(face = 'italic',
size = 10),
aspect.ratio = 0.6,
axis.text = element_text(size = 16),
axis.title = element_text(size = 18),
panel.border = element_blank(),
panel.background = element_blank(),
legend.position = 'none') +
annotate("segment", x=-Inf, xend=Inf, y=-Inf, yend=-Inf, size=0.5) +
annotate("segment", x=-Inf, xend=-Inf, y=-Inf, yend=Inf,size=0.5) +
annotate("segment", x=Inf, xend=Inf, y=-Inf, yend=Inf,size=0.5) +
annotate("segment", x=-Inf, xend=Inf, y=Inf, yend=Inf, size=0.5)
myplot <-
ggplot(rsq, aes(x = n_insample, y = mean, ymin = err_minus, ymax = err_plus, color = metric)) +
geom_errorbar(width = 0) +
geom_line() +
geom_point(cex = 3) +
scale_x_continuous(name = 'Fraction of communities in sample',
breaks = pretty_breaks(n = 4)) +
scale_y_continuous(name = expression(paste('Predicted vs. observed ',italic(R^2))),
limits = c(0, 1),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'),
sec.axis = sec_axis(trans=~.*1,
name = 'hello',
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'))) +
scale_color_manual(values = c('red', 'black')) +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_text(face = 'italic',
size = 10),
aspect.ratio = 0.6,
axis.text = element_text(size = 16),
axis.title = element_text(size = 18),
axis.title.y.right = element_text(size = 18,
color = 'red'),
panel.border = element_blank(),
panel.background = element_blank(),
legend.position = 'none') +
annotate("segment", x=-Inf, xend=Inf, y=-Inf, yend=-Inf, size=0.5) +
annotate("segment", x=-Inf, xend=-Inf, y=-Inf, yend=Inf,size=0.5) +
annotate("segment", x=Inf, xend=Inf, y=-Inf, yend=Inf,size=0.5) +
annotate("segment", x=-Inf, xend=Inf, y=Inf, yend=Inf, size=0.5)
print(myplot)
myplot <-
ggplot(rsq, aes(x = n_insample, y = mean, ymin = err_minus, ymax = err_plus, color = metric)) +
geom_errorbar(width = 0) +
geom_line() +
geom_point(cex = 3) +
scale_x_continuous(name = 'Fraction of communities in sample',
breaks = pretty_breaks(n = 4)) +
scale_y_continuous(name = expression(paste('Predicted vs. observed ',italic(R^2))),
limits = c(0, 1),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'),
sec.axis = sec_axis(trans=~.*1,
name = 'hello',
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'))) +
scale_color_manual(values = c('red', 'black')) +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_text(face = 'italic',
size = 10),
aspect.ratio = 0.6,
axis.text = element_text(size = 16),
axis.text.y.right = element_text(size = 16,
color = 'red'),
axis.title = element_text(size = 18),
axis.title.y.right = element_text(size = 18,
color = 'red'),
panel.border = element_blank(),
panel.background = element_blank(),
legend.position = 'none') +
annotate("segment", x=-Inf, xend=Inf, y=-Inf, yend=-Inf, size=0.5) +
annotate("segment", x=-Inf, xend=-Inf, y=-Inf, yend=Inf,size=0.5) +
annotate("segment", x=Inf, xend=Inf, y=-Inf, yend=Inf,size=0.5) +
annotate("segment", x=-Inf, xend=Inf, y=Inf, yend=Inf, size=0.5)
print(myplot)
myplot <-
ggplot(rsq, aes(x = n_insample, y = mean, ymin = err_minus, ymax = err_plus, color = metric)) +
geom_errorbar(width = 0) +
geom_line() +
geom_point(cex = 3) +
scale_x_continuous(name = 'Fraction of communities in sample',
breaks = pretty_breaks(n = 4)) +
scale_y_continuous(name = expression(paste('Predicted vs. observed ',italic(R^2))),
limits = c(0, 1),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'),
sec.axis = sec_axis(trans=~.*1,
name = 'hello',
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'))) +
scale_color_manual(values = c('red', 'black')) +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_text(face = 'italic',
size = 10),
aspect.ratio = 0.6,
axis.text = element_text(size = 16),
axis.text.y.right = element_text(size = 16,
color = 'red'),
axis.title = element_text(size = 18),
axis.title.y.right = element_text(size = 18,
color = 'red'),
panel.border = element_blank(),
panel.background = element_blank(),
legend.position = 'none') +
annotate("segment", x=-Inf, xend=Inf, y=-Inf, yend=-Inf, size=0.5) +
annotate("segment", x=-Inf, xend=-Inf, y=-Inf, yend=Inf,size=0.5) +
annotate("segment", x=Inf, xend=Inf, y=-Inf, yend=Inf,size=0.5, color = 'red')
print(myplot)
myplot <-
ggplot(rsq, aes(x = n_insample, y = mean, ymin = err_minus, ymax = err_plus, color = metric)) +
geom_errorbar(width = 0) +
geom_line() +
geom_point(cex = 3) +
scale_x_continuous(name = 'Fraction of communities in sample',
breaks = pretty_breaks(n = 4)) +
scale_y_continuous(name = expression(paste('Predicted vs. observed ',italic(R^2))),
limits = c(0, 1),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'),
sec.axis = sec_axis(trans=~.*1,
name = 'hello',
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'))) +
scale_color_manual(values = c('red', 'black')) +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_text(face = 'italic',
size = 10),
aspect.ratio = 0.6,
axis.text = element_text(size = 16),
axis.text.y.right = element_text(size = 16,
color = 'red'),
axis.title = element_text(size = 18),
axis.title.y.right = element_text(size = 18,
color = 'red'),
axis.ticks.length.y.right = theme_text(color = 'red'),
panel.border = element_blank(),
panel.background = element_blank(),
legend.position = 'none') +
annotate("segment", x=-Inf, xend=Inf, y=-Inf, yend=-Inf, size=0.5) +
annotate("segment", x=-Inf, xend=-Inf, y=-Inf, yend=Inf,size=0.5) +
annotate("segment", x=Inf, xend=Inf, y=-Inf, yend=Inf,size=0.5, color = 'red')
myplot <-
ggplot(rsq, aes(x = n_insample, y = mean, ymin = err_minus, ymax = err_plus, color = metric)) +
geom_errorbar(width = 0) +
geom_line() +
geom_point(cex = 3) +
scale_x_continuous(name = 'Fraction of communities in sample',
breaks = pretty_breaks(n = 4)) +
scale_y_continuous(name = expression(paste('Predicted vs. observed ',italic(R^2))),
limits = c(0, 1),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'),
sec.axis = sec_axis(trans=~.*1,
name = 'hello',
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'))) +
scale_color_manual(values = c('red', 'black')) +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_text(face = 'italic',
size = 10),
aspect.ratio = 0.6,
axis.text = element_text(size = 16),
axis.text.y.right = element_text(size = 16,
color = 'red'),
axis.title = element_text(size = 18),
axis.title.y.right = element_text(size = 18,
color = 'red'),
axis.ticks.y.right = element_line(color = 'red'),
panel.border = element_blank(),
panel.background = element_blank(),
legend.position = 'none') +
annotate("segment", x=-Inf, xend=Inf, y=-Inf, yend=-Inf, size=0.5) +
annotate("segment", x=-Inf, xend=-Inf, y=-Inf, yend=Inf,size=0.5) +
annotate("segment", x=Inf, xend=Inf, y=-Inf, yend=Inf,size=0.5, color = 'red')
print(myplot)
myplot <-
ggplot(rsq, aes(x = n_insample, y = mean, ymin = err_minus, ymax = err_plus, color = metric)) +
geom_errorbar(width = 0) +
geom_line() +
geom_point(cex = 3) +
scale_x_continuous(name = 'Fraction of communities in sample',
breaks = pretty_breaks(n = 4)) +
scale_y_continuous(name = expression(paste('Predicted vs. observed ',italic(R^2))),
limits = c(0, 1),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'),
sec.axis = sec_axis(trans=~.*1,
name = expression(paste(italic(F), '(', ')', sep = '')),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'))) +
scale_color_manual(values = c('red', 'black')) +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_text(face = 'italic',
size = 10),
aspect.ratio = 0.6,
axis.text = element_text(size = 16),
axis.text.y.right = element_text(size = 16,
color = 'red'),
axis.title = element_text(size = 18),
axis.title.y.right = element_text(size = 18,
color = 'red'),
axis.ticks.y.right = element_line(color = 'red'),
panel.border = element_blank(),
panel.background = element_blank(),
legend.position = 'none') +
annotate("segment", x=-Inf, xend=Inf, y=-Inf, yend=-Inf, size=0.5) +
annotate("segment", x=-Inf, xend=-Inf, y=-Inf, yend=Inf,size=0.5) +
annotate("segment", x=Inf, xend=Inf, y=-Inf, yend=Inf,size=0.5, color = 'red')
print(myplot)
myplot <-
ggplot(rsq, aes(x = n_insample, y = mean, ymin = err_minus, ymax = err_plus, color = metric)) +
geom_errorbar(width = 0) +
geom_line() +
geom_point(cex = 3) +
scale_x_continuous(name = 'Fraction of communities in sample',
breaks = pretty_breaks(n = 4)) +
scale_y_continuous(name = expression(paste('Predicted vs. observed ',italic(R^2))),
limits = c(0, 1),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'),
sec.axis = sec_axis(trans=~.*1,
name = expression(paste(italic(F), '(', bold(s), ')', sep = '')),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'))) +
scale_color_manual(values = c('red', 'black')) +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_text(face = 'italic',
size = 10),
aspect.ratio = 0.6,
axis.text = element_text(size = 16),
axis.text.y.right = element_text(size = 16,
color = 'red'),
axis.title = element_text(size = 18),
axis.title.y.right = element_text(size = 18,
color = 'red'),
axis.ticks.y.right = element_line(color = 'red'),
panel.border = element_blank(),
panel.background = element_blank(),
legend.position = 'none') +
annotate("segment", x=-Inf, xend=Inf, y=-Inf, yend=-Inf, size=0.5) +
annotate("segment", x=-Inf, xend=-Inf, y=-Inf, yend=Inf,size=0.5) +
annotate("segment", x=Inf, xend=Inf, y=-Inf, yend=Inf,size=0.5, color = 'red')
print(myplot)
myplot <-
ggplot(rsq, aes(x = n_insample, y = mean, ymin = err_minus, ymax = err_plus, color = metric)) +
geom_errorbar(width = 0) +
geom_line() +
geom_point(cex = 3) +
scale_x_continuous(name = 'Fraction of communities in sample',
breaks = pretty_breaks(n = 4)) +
scale_y_continuous(name = expression(paste('Predicted vs. observed ',italic(R^2))),
limits = c(0, 1),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'),
sec.axis = sec_axis(trans=~.*1,
name = expression(paste(italic(F), '(', bold(s), [opt], ')', sep = '')),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'))) +
scale_color_manual(values = c('red', 'black')) +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_text(face = 'italic',
size = 10),
aspect.ratio = 0.6,
axis.text = element_text(size = 16),
axis.text.y.right = element_text(size = 16,
color = 'red'),
axis.title = element_text(size = 18),
axis.title.y.right = element_text(size = 18,
color = 'red'),
axis.ticks.y.right = element_line(color = 'red'),
panel.border = element_blank(),
panel.background = element_blank(),
legend.position = 'none') +
annotate("segment", x=-Inf, xend=Inf, y=-Inf, yend=-Inf, size=0.5) +
annotate("segment", x=-Inf, xend=-Inf, y=-Inf, yend=Inf,size=0.5) +
annotate("segment", x=Inf, xend=Inf, y=-Inf, yend=Inf,size=0.5, color = 'red')
myplot <-
ggplot(rsq, aes(x = n_insample, y = mean, ymin = err_minus, ymax = err_plus, color = metric)) +
geom_errorbar(width = 0) +
geom_line() +
geom_point(cex = 3) +
scale_x_continuous(name = 'Fraction of communities in sample',
breaks = pretty_breaks(n = 4)) +
scale_y_continuous(name = expression(paste('Predicted vs. observed ',italic(R^2))),
limits = c(0, 1),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'),
sec.axis = sec_axis(trans=~.*1,
name = expression(paste(italic(F), '(', bold(s), ^2, ')', sep = '')),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'))) +
scale_color_manual(values = c('red', 'black')) +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_text(face = 'italic',
size = 10),
aspect.ratio = 0.6,
axis.text = element_text(size = 16),
axis.text.y.right = element_text(size = 16,
color = 'red'),
axis.title = element_text(size = 18),
axis.title.y.right = element_text(size = 18,
color = 'red'),
axis.ticks.y.right = element_line(color = 'red'),
panel.border = element_blank(),
panel.background = element_blank(),
legend.position = 'none') +
annotate("segment", x=-Inf, xend=Inf, y=-Inf, yend=-Inf, size=0.5) +
annotate("segment", x=-Inf, xend=-Inf, y=-Inf, yend=Inf,size=0.5) +
annotate("segment", x=Inf, xend=Inf, y=-Inf, yend=Inf,size=0.5, color = 'red')
myplot <-
ggplot(rsq, aes(x = n_insample, y = mean, ymin = err_minus, ymax = err_plus, color = metric)) +
geom_errorbar(width = 0) +
geom_line() +
geom_point(cex = 3) +
scale_x_continuous(name = 'Fraction of communities in sample',
breaks = pretty_breaks(n = 4)) +
scale_y_continuous(name = expression(paste('Predicted vs. observed ',italic(R^2))),
limits = c(0, 1),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'),
sec.axis = sec_axis(trans=~.*1,
name = expression(paste(italic(F), '(', bold(s), '^2', ')', sep = '')),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'))) +
scale_color_manual(values = c('red', 'black')) +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_text(face = 'italic',
size = 10),
aspect.ratio = 0.6,
axis.text = element_text(size = 16),
axis.text.y.right = element_text(size = 16,
color = 'red'),
axis.title = element_text(size = 18),
axis.title.y.right = element_text(size = 18,
color = 'red'),
axis.ticks.y.right = element_line(color = 'red'),
panel.border = element_blank(),
panel.background = element_blank(),
legend.position = 'none') +
annotate("segment", x=-Inf, xend=Inf, y=-Inf, yend=-Inf, size=0.5) +
annotate("segment", x=-Inf, xend=-Inf, y=-Inf, yend=Inf,size=0.5) +
annotate("segment", x=Inf, xend=Inf, y=-Inf, yend=Inf,size=0.5, color = 'red')
print(myplot)
myplot <-
ggplot(rsq, aes(x = n_insample, y = mean, ymin = err_minus, ymax = err_plus, color = metric)) +
geom_errorbar(width = 0) +
geom_line() +
geom_point(cex = 3) +
scale_x_continuous(name = 'Fraction of communities in sample',
breaks = pretty_breaks(n = 4)) +
scale_y_continuous(name = expression(paste('Predicted vs. observed ',italic(R^2))),
limits = c(0, 1),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'),
sec.axis = sec_axis(trans=~.*1,
name = expression(paste(italic(F), '(', bold(s[opt]), ')', sep = '')),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'))) +
scale_color_manual(values = c('red', 'black')) +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_text(face = 'italic',
size = 10),
aspect.ratio = 0.6,
axis.text = element_text(size = 16),
axis.text.y.right = element_text(size = 16,
color = 'red'),
axis.title = element_text(size = 18),
axis.title.y.right = element_text(size = 18,
color = 'red'),
axis.ticks.y.right = element_line(color = 'red'),
panel.border = element_blank(),
panel.background = element_blank(),
legend.position = 'none') +
annotate("segment", x=-Inf, xend=Inf, y=-Inf, yend=-Inf, size=0.5) +
annotate("segment", x=-Inf, xend=-Inf, y=-Inf, yend=Inf,size=0.5) +
annotate("segment", x=Inf, xend=Inf, y=-Inf, yend=Inf,size=0.5, color = 'red')
print(myplot)
myplot <-
ggplot(rsq, aes(x = n_insample, y = mean, ymin = err_minus, ymax = err_plus, color = metric)) +
geom_errorbar(width = 0) +
geom_line() +
geom_point(cex = 3) +
scale_x_continuous(name = 'Fraction of communities in sample',
breaks = pretty_breaks(n = 4)) +
scale_y_continuous(name = expression(paste('Predicted vs. observed ',italic(R^2))),
limits = c(0, 1),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'),
sec.axis = sec_axis(trans=~.*1,
name = expression(paste(italic(F), '(', bold(s)[opt], ')', sep = '')),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'))) +
scale_color_manual(values = c('red', 'black')) +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_text(face = 'italic',
size = 10),
aspect.ratio = 0.6,
axis.text = element_text(size = 16),
axis.text.y.right = element_text(size = 16,
color = 'red'),
axis.title = element_text(size = 18),
axis.title.y.right = element_text(size = 18,
color = 'red'),
axis.ticks.y.right = element_line(color = 'red'),
panel.border = element_blank(),
panel.background = element_blank(),
legend.position = 'none') +
annotate("segment", x=-Inf, xend=Inf, y=-Inf, yend=-Inf, size=0.5) +
annotate("segment", x=-Inf, xend=-Inf, y=-Inf, yend=Inf,size=0.5) +
annotate("segment", x=Inf, xend=Inf, y=-Inf, yend=Inf,size=0.5, color = 'red')
print(myplot)
myplot <-
ggplot(rsq, aes(x = n_insample, y = mean, ymin = err_minus, ymax = err_plus, color = metric)) +
geom_errorbar(width = 0) +
geom_line() +
geom_point(cex = 3) +
scale_x_continuous(name = 'Fraction of communities in sample',
breaks = pretty_breaks(n = 4)) +
scale_y_continuous(name = expression(paste('Predicted vs. observed ',italic(R^2))),
limits = c(0, 1),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'),
sec.axis = sec_axis(trans=~.*1,
name = expression(paste(italic(F), '( ', bold(s)[opt], ' )', sep = '')),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'))) +
scale_color_manual(values = c('red', 'black')) +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_text(face = 'italic',
size = 10),
aspect.ratio = 0.6,
axis.text = element_text(size = 16),
axis.text.y.right = element_text(size = 16,
color = 'red'),
axis.title = element_text(size = 18),
axis.title.y.right = element_text(size = 18,
color = 'red'),
axis.ticks.y.right = element_line(color = 'red'),
panel.border = element_blank(),
panel.background = element_blank(),
legend.position = 'none') +
annotate("segment", x=-Inf, xend=Inf, y=-Inf, yend=-Inf, size=0.5) +
annotate("segment", x=-Inf, xend=-Inf, y=-Inf, yend=Inf,size=0.5) +
annotate("segment", x=Inf, xend=Inf, y=-Inf, yend=Inf,size=0.5, color = 'red')
print(myplot)
myplot <-
ggplot(rsq, aes(x = n_insample, y = mean, ymin = err_minus, ymax = err_plus, color = metric)) +
geom_errorbar(width = 0) +
geom_line() +
geom_point(cex = 3) +
scale_x_continuous(name = 'Fraction of communities in sample',
breaks = pretty_breaks(n = 4)) +
scale_y_continuous(name = expression(paste('Predicted vs. observed ',italic(R^2))),
limits = c(0, 1),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'),
sec.axis = sec_axis(trans=~.*1,
name = expression(paste(italic(F), ' ( ', bold(s)[opt], ' ) / ', italic(F)[max], sep = '')),
breaks = c(0, 0.5, 1),
labels = c('0', '0.5', '1'))) +
scale_color_manual(values = c('red', 'black')) +
theme_bw() +
theme(panel.grid = element_blank(),
strip.background = element_blank(),
strip.text = element_text(face = 'italic',
size = 10),
aspect.ratio = 0.6,
axis.text = element_text(size = 16),
axis.text.y.right = element_text(size = 16,
color = 'red'),
axis.title = element_text(size = 18),
axis.title.y.right = element_text(size = 18,
color = 'red'),
axis.ticks.y.right = element_line(color = 'red'),
panel.border = element_blank(),
panel.background = element_blank(),
legend.position = 'none') +
annotate("segment", x=-Inf, xend=Inf, y=-Inf, yend=-Inf, size=0.5) +
annotate("segment", x=-Inf, xend=-Inf, y=-Inf, yend=Inf,size=0.5) +
annotate("segment", x=Inf, xend=Inf, y=-Inf, yend=Inf,size=0.5, color = 'red')
print(myplot)
source("~/projects/eco_global_epist/scripts/figS3.R", echo=TRUE)
source("~/projects/eco_global_epist/scripts/figS3.R", echo=TRUE)
